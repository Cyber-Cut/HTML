<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Warehouse Housekeeping — Training</title>
<style>
:root{--bg:#f6f7fb; --card:#fff; --accent:#0b63d6; --muted:#6b7280;}
html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;}
body{background:linear-gradient(180deg,var(--bg),#eef2f7);color:#111;}
.app{max-width:980px;margin:28px auto;padding:18px;}
.header{display:flex;align-items:center;gap:14px;margin-bottom:12px;}
.logo{width:56px;height:56px;border-radius:8px;background:linear-gradient(135deg,var(--accent),#1ea7ff);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700;}
h1{font-size:20px;margin:0;}
.meta{color:var(--muted);font-size:13px;}
.layout{display:grid;grid-template-columns:240px 1fr;gap:18px;margin-top:18px;}
.nav{background:var(--card);border-radius:10px;padding:14px;box-shadow:0 6px 18px rgba(12,12,20,0.06);height:calc(100vh - 180px);position:sticky;top:24px;overflow:auto;}
.nav h3{margin:0 0 8px 0;font-size:13px;color:var(--muted)}
.toc{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:6px;}
.toc button{appearance:none;border:0;background:transparent;text-align:left;padding:8px;border-radius:8px;cursor:pointer;font-size:14px;color:#0b1220;}
.toc button.active{background:rgba(11,99,214,0.08);color:var(--accent);font-weight:600;}
.card{background:var(--card);padding:22px;border-radius:12px;box-shadow:0 8px 24px rgba(12,12,20,0.06);}
.content{min-height:420px;}
.controls{display:flex;justify-content:space-between;align-items:center;margin-top:14px;gap:10px;}
.btn{display:inline-flex;align-items:center;gap:8px;padding:9px 12px;border-radius:10px;border:0;cursor:pointer;font-weight:600;}
.btn.primary{background:var(--accent);color:#fff;}
.btn.ghost{background:transparent;border:1px solid #e6eefb;color:var(--accent);}
.progress{height:8px;background:#e6eefb;border-radius:8px;overflow:hidden;margin-top:12px;}
.progress > i{display:block;height:100%;background:linear-gradient(90deg,var(--accent),#1ea7ff);width:0%;}
.question{border:1px solid #eef4ff;background:#fbfdff;padding:14px;border-radius:8px;margin-top:12px;}
.options{display:flex;flex-direction:column;gap:8px;margin-top:10px;}
.option{display:flex;align-items:center;gap:10px;padding:10px;border-radius:8px;border:1px solid transparent;cursor:pointer;}
.option input{margin:0;}
.option:hover{background:#f1f7ff;}
.feedback{margin-top:8px;font-size:14px;}
.badge{display:inline-block;padding:6px 8px;border-radius:999px;background:#eef7ff;color:var(--accent);font-weight:700;font-size:12px;}
.small{font-size:13px;color:var(--muted);}
.certificate{padding:20px;text-align:center;}
@media (max-width:920px){.layout{grid-template-columns:1fr;}.nav{position:relative;height:auto;}}
</style>
</head>
<body>
  <div class="app" role="application" aria-label="Warehouse Housekeeping Training">
    <div class="header">
      <div class="logo">WH</div>
      <div>
        <h1>Warehouse Housekeeping — Training</h1>
        <div class="meta">Based on provided Warehouse Housekeeping PDF.</div>
      </div>
    </div>

    <div class="layout" id="app">
      <aside class="nav card" aria-label="Table of contents">
        <h3>Course navigation</h3>
        <ul class="toc" id="toc"></ul>
        <div style="margin-top:16px">
          <div class="small">Progress</div>
          <div class="progress" aria-hidden><i id="progressBar"></i></div>
          <div class="small" style="margin-top:8px">Score: <span id="scoreLabel">0</span>/6</div>
        </div>
        <div style="margin-top:18px">
          <div class="small">Controls</div>
          <div style="margin-top:8px;display:flex;gap:8px;flex-wrap:wrap">
            <button class="btn ghost" onclick="resetCourse()" title="Reset progress">Reset</button>
            <button class="btn" onclick="downloadReport()">Download Report</button>
          </div>
        </div>
      </aside>

      <main>
        <section class="card content" id="pageContainer" tabindex="0" aria-live="polite"></section>

        <div class="controls" role="navigation" aria-label="Course controls">
          <div>
            <button class="btn" id="prevBtn" onclick="prevPage()">← Previous</button>
            <button class="btn" id="nextBtn" onclick="nextPage()">Next →</button>
          </div>
          <div>
            <button class="btn ghost" onclick="openTOC()">Table of Contents</button>
            <button class="btn primary" onclick="goToPage('quiz')">Go to Quiz</button>
          </div>
        </div>
      </main>
    </div>
  </div>

<script>
const pages = [{"id": "intro", "title": "Introduction & Overview", "html": "<div style=\"margin-bottom:12px\"><img src=\"assets/page_1.png\" alt=\"PDF page 1\" style=\"max-width:100%;border-radius:8px;box-shadow:0 6px 18px rgba(12,12,20,0.06)\"></div>\n<h2>Introduction</h2>\n<p><strong>Purpose:</strong> General upkeep of the warehouse to ensure a safe and efficient working environment.</p>\n<p class=\"small\">This training is based on the Warehouse Housekeeping Risk Assessment & Safe System of Work (SSOW). Refer to the source document for full formal versions.</p>\n<h3>Highest Risk Rating</h3>\n<p><em>Adequate</em> (as recorded in the assessment)</p>\n<h3>Key hazards highlighted</h3>\n<ul>\n  <li>Slip, trip and fall</li>\n  <li>Manual handling injuries</li>\n  <li>Vehicle movements (MHE)</li>\n  <li>Dust</li>\n  <li>Chemicals (COSHH)</li>\n  <li>Leptospirosis (rodent droppings)</li>\n</ul>\n"}, {"id": "risk-analysis", "title": "Risk Analysis & Controls", "html": "<div style=\"margin-bottom:12px\"><img src=\"assets/page_2.png\" alt=\"PDF page 2\" style=\"max-width:100%;border-radius:8px;box-shadow:0 6px 18px rgba(12,12,20,0.06)\"></div>\n<h2>Risk Analysis</h2>\n<p>The PDF contains a stepwise risk analysis. Each hazard lists who might be harmed, how, and control measures. Example entries:</p>\n<ul>\n  <li><strong>Objects falling from height</strong> \u2014 comply with four pick slot separation when reach trucks work at height.</li>\n  <li><strong>Spillages</strong> \u2014 isolate immediately with wet floor signs and retrieve appropriate PPE/tools.</li>\n  <li><strong>Dealing with hazardous chemicals</strong> \u2014 only COSHH trained staff should handle hazardous chemical incidents.</li>\n</ul>\n<p class=\"small\">Residual risk levels and responsibility columns in the original document describe who must implement further controls.</p>\n"}, {"id": "precautions", "title": "Precautions & PPE", "html": "<div style=\"margin-bottom:12px\"><img src=\"assets/page_3.png\" alt=\"PDF page 3\" style=\"max-width:100%;border-radius:8px;box-shadow:0 6px 18px rgba(12,12,20,0.06)\"></div>\n<h2>Precautions to reduce risks</h2>\n<ul>\n  <li>All operatives should undertake client induction to understand site-specific movements and walkways.</li>\n  <li>Only keep tools you currently use close by; return unused tools to designated storage.</li>\n</ul>\n<h3>PPE (minimum)</h3>\n<ul>\n  <li>Hi-vis jacket and safety boots (site minimum)</li>\n  <li>Bump cap / hard hat when under/behind racking</li>\n  <li>Dust masks available for dusty areas</li>\n  <li>Gloves (anti-cut when handling glass/sharp objects)</li>\n</ul>\n"}, {"id": "ssow", "title": "Safe System of Work (SSOW)", "html": "<div style=\"margin-bottom:12px\"><img src=\"assets/page_4.png\" alt=\"PDF page 4\" style=\"max-width:100%;border-radius:8px;box-shadow:0 6px 18px rgba(12,12,20,0.06)\"></div>\n<h2>Safe System of Work \u2014 Method of safe working</h2>\n<ol>\n  <li>Inspect equipment and ensure correct PPE.</li>\n  <li>General cleaning using ISM blue cleaning equipment.</li>\n  <li>Cleaning within or under racking \u2014 use bump caps and signage.</li>\n  <li>Rodent activity \u2014 do not disturb; inform line manager.</li>\n  <li>Cleaning spillages/breakages \u2014 isolate with signage and use absorbents.</li>\n  <li>Dealing with hazardous chemicals \u2014 only trained personnel; isolate area.</li>\n  <li>Reporting and isolating damaged goods and pallets.</li>\n</ol>\n<p class=\"small\"><strong>Do\u2019s & Don\u2019ts</strong> \u2014 highlights from the SSOW include: never undertake untrained tasks (COSHH), always use signage, always return cleaning equipment clean to storage, always report incidents, always follow walkway rules, and observe 4 m separation in aisles.</p>\n"}, {"id": "steps", "title": "Steps 1\u20137 (Detailed Procedures)", "html": "<div style=\"margin-bottom:12px\"><img src=\"assets/page_5.png\" alt=\"PDF page 5\" style=\"max-width:100%;border-radius:8px;box-shadow:0 6px 18px rgba(12,12,20,0.06)\"></div>\n<h2>Steps (Details)</h2>\n<h3>Step 1: Pre-operation inspection & PPE</h3>\n<p>Ensure equipment is undamaged and correct PPE is selected for the site.</p>\n<h3>Step 2: General cleaning</h3>\n<p>Use ISM blue cleaning equipment for the warehouse. Keep coloured equipment separate.</p>\n<h3>Step 3: Cleaning within/under racking</h3>\n<p>Wear bump caps, use caution signs/beacons; ensure pallets are stable and trained personnel operate machines.</p>\n<h3>Step 4: Rodent activity</h3>\n<p>Report; do not disturb droppings; only trained staff should clean infected areas.</p>\n<h3>Step 5: Spillages & breakages</h3>\n<p>Isolate with signage, use absorbent materials, report damaged goods.</p>\n<h3>Step 6: Hazardous chemicals</h3>\n<p>Report incidents; only trained staff; see COSHH procedures in the full SSOW.</p>\n<h3>Step 7: Damages</h3>\n<p>Report and isolate damaged goods/pallets. Follow client supervisor guidance.</p>\n"}, {"id": "quiz", "title": "Quiz: Validate your understanding", "html": "<div style=\"margin-bottom:12px\"><img src=\"assets/page_6.png\" alt=\"PDF page 6\" style=\"max-width:100%;border-radius:8px;box-shadow:0 6px 18px rgba(12,12,20,0.06)\"></div>\n<h2>Quiz</h2>\n<p>To confirm understanding, complete the questions below. You may have more than one correct answer on some questions \u2014 this quiz is configured as single best answer per question for clarity. You will get immediate feedback and a final score.</p>\n<div id=\"quizArea\"></div>\n<div id=\"quizResult\" style=\"margin-top:12px\"></div>\n"}, {"id": "certificate", "title": "Certificate & Completion", "html": "<div style=\"margin-bottom:12px\"><img src=\"assets/page_7.png\" alt=\"PDF page 7\" style=\"max-width:100%;border-radius:8px;box-shadow:0 6px 18px rgba(12,12,20,0.06)\"></div>\n<div class=\"certificate\">\n  <h2>Training Completion</h2>\n  <p id=\"certText\">Complete the quiz to view your certificate.</p>\n  <div style=\"margin-top:14px\">\n    <button class=\"btn primary\" onclick=\"printCertificate()\">Print Certificate</button>\n    <button class=\"btn\" onclick=\"downloadReport()\">Download Report</button>\n  </div>\n</div>\n"}];
const quizQuestions = [{"id": "q1", "q": "Where must you wear a hard hat / bump cap when cleaning?", "options": ["When working open yard only", "When working underneath or behind racking", "Only when using a pressure washer", "Whenever a supervisor tells you"], "correct": 1, "explain": "Bump caps/hard hats are required when working under or behind racking to protect from head injuries."}, {"id": "q2", "q": "In the event of an incident on site, who should you report it to?", "options": ["Your line manager or site supervisor", "The client\u2019s customers", "Only the police", "No one if it is minor"], "correct": 0, "explain": "Incidents should be reported to your line manager and the site supervisor as per the SSOW."}, {"id": "q3", "q": "What is the first thing you must do if you see/create a spillage/breakage?", "options": ["Keep working and avoid the area", "Isolate the area with caution/wet floor signs immediately", "Call a friend to help move items", "Wait until the end of shift"], "correct": 1, "explain": "Always isolate spillages immediately with signage to protect others and allow safe clean up."}, {"id": "q4", "q": "What other safe systems of work relate to Warehouse Housekeeping? (example selection)", "options": ["Manual handling and COSHH procedures", "Only office security procedures", "None \u2014 housekeeping is standalone", "Only IT policies"], "correct": 0, "explain": "Warehouse housekeeping links closely with Manual Handling and COSHH among other site-specific SSOWs."}, {"id": "q5", "q": "If you have finished using a piece of equipment and do not require it again, what should you do?", "options": ["Leave it where it is for the next person", "Return it to its designated storage area clean and tidy", "Hide it in another aisle", "Throw it away"], "correct": 1, "explain": "Equipment should be returned clean to the designated storage area to prevent trips and contamination."}, {"id": "q6", "q": "What might you need if working underneath / within the racking?", "options": ["Bump cap / hard hat and possibly a dust mask", "A loudspeaker", "Only sunglasses", "No special PPE"], "correct": 0, "explain": "Bump cap/hard hat and dust masks (if dusty) are specified when working under racking."}];
let state = {{ pageIndex: 0, answers: JSON.parse(localStorage.getItem('warehouse.answers')||'{}') }};

const tocEl = document.getElementById('toc');
const container = document.getElementById('pageContainer');
const progressBar = document.getElementById('progressBar');
const scoreLabel = document.getElementById('scoreLabel');
function renderTOC(){ tocEl.innerHTML=''; pages.forEach((p, idx)=>{ const li = document.createElement('li'); const btn = document.createElement('button'); btn.textContent = (idx+1)+'. '+p.title; btn.className = (idx===state.pageIndex)?'active':''; btn.onclick = ()=>{ goToIndex(idx); }; li.appendChild(btn); tocEl.appendChild(li); });}
function renderPage(){ const p = pages[state.pageIndex]; container.innerHTML = p.html; if(p.id === 'quiz') renderQuiz(); renderTOC(); updateProgress(); container.focus(); }
function goToIndex(i){ state.pageIndex = i; saveState(); renderPage(); }
function goToPage(id){ const i = pages.findIndex(p=>p.id===id); if(i>=0) goToIndex(i); }
function nextPage(){ if(state.pageIndex < pages.length-1){ state.pageIndex++; saveState(); renderPage(); } }
function prevPage(){ if(state.pageIndex > 0){ state.pageIndex--; saveState(); renderPage(); } }
function openTOC(){ document.querySelector('.nav').scrollIntoView({behavior:'smooth'}); }
function updateProgress(){ const pct = Math.round(((state.pageIndex) / (pages.length-1)) * 100); progressBar.style.width = pct + '%'; scoreLabel.textContent = getScore(); document.querySelectorAll('.toc button').forEach((btn, idx)=>{ btn.classList.toggle('active', idx===state.pageIndex); }); }
function renderQuiz(){ const area = document.getElementById('quizArea'); area.innerHTML = ''; quizQuestions.forEach((q, qi)=>{ const qDiv = document.createElement('div');
    qDiv.className = 'question';
    qDiv.id = 'quest_'+q.id;
    qDiv.innerHTML = `<div style="display:flex;justify-content:space-between;align-items:center"><div><strong>Q${'${'}qi+1}${'}'}.</strong> ${'${'}q.q}${'}'}</div><div><span class="badge">Question ${'${'}qi+1}${'}'}</span></div></div>`;
    const opts = document.createElement('div');
    opts.className = 'options';
    q.options.forEach((opt, oi)=>{
      const optWrap = document.createElement('label');
      optWrap.className = 'option';
      optWrap.tabIndex = 0;
      const input = document.createElement('input');
      input.type = 'radio';
      input.name = q.id;
      input.value = oi;
      if(state.answers[q.id] == oi) input.checked = true;
      input.onchange = ()=>{ submitAnswer(q.id, oi); };
      optWrap.appendChild(input);
      const span = document.createElement('span');
      span.textContent = opt;
      optWrap.appendChild(span);
      opts.appendChild(optWrap);
    });
    qDiv.appendChild(opts);
    const fb = document.createElement('div');
    fb.className = 'feedback';
    fb.id = 'fb_'+q.id;
    if(state.answers[q.id] !== undefined) showFeedback(q.id);
    qDiv.appendChild(fb);
    area.appendChild(qDiv);
  });
  const submitWrap = document.createElement('div');
  submitWrap.style.marginTop = '12px';
  const checkBtn = document.createElement('button');
  checkBtn.className = 'btn primary';
  checkBtn.textContent = 'Check my score';
  checkBtn.onclick = ()=>{ showFinalScore(true); };
  submitWrap.appendChild(checkBtn);
  area.appendChild(submitWrap);
}

function submitAnswer(qid, optIndex){ state.answers[qid] = optIndex; localStorage.setItem('warehouse.answers', JSON.stringify(state.answers)); showFeedback(qid); updateProgress(); }
function showFeedback(qid){
  const q = quizQuestions.find(x=>x.id===qid);
  const fb = document.getElementById('fb_'+qid);
  const selected = state.answers[qid];
  if(selected === undefined){ fb.innerHTML = ''; return; }
  const selIdx = parseInt(selected,10);
  const chosen = q.options[selIdx];
  if(chosen && q.correct === selIdx){
    fb.innerHTML = `<div style="color:green;font-weight:700">Correct ✓</div><div class="small">${'${'}q.explain}${'}'}</div>`;
  } else {
    const correctText = q.options[q.correct];
    fb.innerHTML = `<div style="color:#c0392b;font-weight:700">Incorrect ✕</div><div class="small">Correct answer: <strong>${'${'}correctText}${'}'}</strong></div><div class="small" style="margin-top:6px">${'${'}q.explain}${'}'}</div>`;
  }
}

function getScore(){ let score = 0; quizQuestions.forEach(q=>{ const ans = state.answers[q.id]; if(ans !== undefined && q.correct === parseInt(ans,10)) score++; }); return score; }

function showFinalScore(showCertIfPassed=false){
  const result = document.getElementById('quizResult');
  const score = getScore();
  result.innerHTML = `<div class="card" style="padding:12px"><strong>Your score: ${'${'}score}${'}'}/${quizQuestions.length}</strong><div class="small" style="margin-top:8px">${'${'}score}${'}' === quizQuestions.length ? 'Excellent — you answered all questions correctly.' : 'Review feedback on incorrect questions and try again.'}</div></div>`;
  const certText = (score >= Math.ceil(quizQuestions.length*0.8)) ? `<strong>Passed</strong> — Score: ${'${'}score}${'}'}/${quizQuestions.length}. You may print your certificate below.` : `<strong>Not passed</strong> — Score: ${'${'}score}${'}'}/${quizQuestions.length}. Review the lessons and retake the quiz.`;
  localStorage.setItem('warehouse.lastScore', JSON.stringify({score, date: new Date().toISOString()}));
  const certPageIndex = pages.findIndex(p=>p.id==='certificate');
  if(certPageIndex >=0) pages[certPageIndex].html = `<div class="certificate"><h2>Training Completion</h2><p id="certText">${'${'}certText}${'}'}</p><p class="small">Document source: Warehouse Housekeeping PDF</p><div style="margin-top:14px"><button class="btn primary" onclick="printCertificate()">Print Certificate</button><button class="btn" onclick="downloadReport()">Download Report</button></div></div>`;
  if(showCertIfPassed) goToPage('certificate');
  updateProgress();
}

function printCertificate(){
  const last = JSON.parse(localStorage.getItem('warehouse.lastScore')||'null');
  const name = prompt('Enter trainee name for certificate (optional):') || 'Trainee';
  const passed = last && last.score >= Math.ceil(quizQuestions.length*0.8);
  const certHtml = `<html><head><title>Certificate</title><style>body{font-family:Arial,Helvetica,sans-serif;text-align:center;padding:40px} .card{border:4px solid #0b63d6;padding:22px;border-radius:12px;display:inline-block}</style></head><body><div class="card"><h1>Certificate of Completion</h1><p style="margin-top:6px">This certifies that</p><h2>${'${'}name}${'}'}</h2><p style="margin-top:6px">${'${'}passed ? 'has successfully completed' : 'has completed' } the Warehouse Housekeeping training</p><p style="margin-top:6px">Score: ${'${'}last ? last.score : 'N/A'}${'}'} / ${'${'}quizQuestions.length}${'}'}</p><p style="margin-top:14px;font-size:12px;color:#666">Source: Warehouse Housekeeping PDF</p><p style="margin-top:20px">Date: ${'${'}new Date().toLocaleDateString()}{'}'}</p></div><script>window.print();</script></body></html>`;
  const w = window.open('', '_blank');
  w.document.write(certHtml);
  w.document.close();
}

function downloadReport(){ const report = { document: 'Warehouse Housekeeping training', source_file: 'Uploaded PDF (user provided)', score: getScore(), answers: state.answers, completedAt: new Date().toISOString() }; const blob = new Blob([JSON.stringify(report, null, 2)], {type:'application/json'}); const url = URL.createObjectURL(blob); const a = document.createElement('a'); a.href = url; a.download = 'warehouse_training_report.json'; document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url); }

function resetCourse(){ if(!confirm('Reset course progress and answers?')) return; state.answers = {}; localStorage.removeItem('warehouse.answers'); localStorage.removeItem('warehouse.lastScore'); state.pageIndex = 0; saveState(); renderPage(); }

function saveState(){ localStorage.setItem('warehouse.pageIndex', state.pageIndex); localStorage.setItem('warehouse.answers', JSON.stringify(state.answers)); }
function loadState(){ const p = parseInt(localStorage.getItem('warehouse.pageIndex')||'0',10); if(Number.isFinite(p)) state.pageIndex = Math.min(Math.max(0,p), pages.length-1); const saved = JSON.parse(localStorage.getItem('warehouse.answers')||'{}'); state.answers = saved || {}; }

document.addEventListener('keydown', (e)=>{ if(e.key === 'ArrowRight') nextPage(); if(e.key === 'ArrowLeft') prevPage(); });

loadState(); renderTOC(); renderPage();
</script>
</body>
</html>
